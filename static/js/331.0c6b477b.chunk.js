"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[331],{2331:function(e,n,r){r.r(n),r.d(n,{default:function(){return A}});var t,i=r(2791),s=r(9434),a=r(1413),c=r(208),o=r(5705),u=r(8007),l=r(6916),d=function(e){return e.contacts.items},m=function(e){return e.contacts.isLoading},x=function(e){return e.contacts.error},h=function(e){return e.filter.filter},f=(0,l.P1)([d,h],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),b=r(5218),j=r(1309),p=r(824),g=r(1917),v=r(5350),X=r(7438),w=r(7236),I=r(3004),y=r(9055),C=r(184),Z=u.Ry().shape({name:u.Z_().min(3).required("Name is required"),number:u.Z_().matches(/^\d{3}-\d{3}-\d{4}$/,"Phone number is not valid. Must be XXX-XXX-XXXX").required("Phone number is required")}),k=function(){var e=(0,s.I0)(),n=(0,s.v9)(d),r=(0,j.ff)("teal.200","teal.700"),t=(0,j.ff)("teal.100","teal.600"),i=(0,j.ff)("teal.300","teal.500");return(0,C.jsx)(p.xu,{bg:r,p:6,boxShadow:"base",borderRadius:"md",mx:"auto",my:8,children:(0,C.jsx)(o.J9,{initialValues:{name:"",number:""},validationSchema:Z,onSubmit:function(r,t){n.some((function(e){return e.name.toLowerCase()===r.name.toLowerCase()}))?b.ZP.error("".concat(r.name," is already in the phonebook")):(e((0,c.uK)({name:r.name,number:r.number})),t.resetForm(),b.ZP.success("".concat(r.name," added to the phonebook")))},children:function(e){return(0,C.jsx)(o.l0,{children:(0,C.jsxs)(g.g,{spacing:4,align:"start",maxW:"100%",mx:"auto",children:[(0,C.jsx)(o.gN,{name:"name",children:function(e){var n=e.field,r=e.form;return(0,C.jsxs)(v.NI,{isInvalid:r.errors.name&&r.touched.name,children:[(0,C.jsx)(X.l,{htmlFor:"name",children:"Name"}),(0,C.jsx)(w.I,(0,a.Z)((0,a.Z)({},n),{},{id:"name",placeholder:"Enter name"})),(0,C.jsx)(I.J1,{children:r.errors.name})]})}}),(0,C.jsx)(o.gN,{name:"number",children:function(e){var n=e.field,r=e.form;return(0,C.jsxs)(v.NI,{isInvalid:r.errors.number&&r.touched.number,children:[(0,C.jsx)(X.l,{htmlFor:"number",children:"Number"}),(0,C.jsx)(w.I,(0,a.Z)((0,a.Z)({},n),{},{id:"number",placeholder:"Enter number XXX-XXX-XXXX"})),(0,C.jsx)(I.J1,{children:r.errors.number})]})}}),(0,C.jsx)(y.z,{mt:4,mx:"auto",type:"submit",bg:t,_hover:{bg:i},children:"Add contact"})]})})}})})},N=r(6582),P=r(2715),E=r(3853),F=r(8820),z=function(e){var n=e.name,r=e.number,t=e.id,i=(0,s.I0)();return(0,C.jsxs)(N.k,{justifyContent:"space-between",alignItems:"center",children:[(0,C.jsxs)(p.xu,{children:[(0,C.jsxs)(N.k,{alignItems:"center",children:[(0,C.jsx)(E.fzv,{size:"1.2em"}),(0,C.jsx)(P.x,{ml:"2",children:n})]}),(0,C.jsxs)(N.k,{alignItems:"center",children:[(0,C.jsx)(F.Nhm,{size:"1.2em"}),(0,C.jsx)(P.x,{ml:"2",children:r})]})]}),(0,C.jsxs)(y.z,{borderRadius:"5px",px:"3",py:"2",onClick:function(){i((0,c.GK)(t)).unwrap().then((function(){b.ZP.success("Contact deleted successfully")})).catch((function(){b.ZP.error("Failed to delete contact")}))},children:[(0,C.jsx)(E.pBC,{size:"1.2em"}),(0,C.jsx)(P.x,{ml:"2",children:"Delete"})]})]})},L=r(3656),_=r(168),S=r(6487).ZP.div(t||(t=(0,_.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),R=function(){return(0,C.jsx)(S,{children:(0,C.jsx)(L.Yt,{visible:!0,height:"80",width:"80",ariaLabel:"Loading",wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#B2F5EA",color:"#319795"})})},W=function(){var e=(0,s.I0)();(0,i.useEffect)((function(){e((0,c.yF)())}),[e]);var n=(0,s.v9)(m),r=(0,s.v9)(x);(0,i.useEffect)((function(){r&&b.ZP.error("Error loading contacts: ".concat(r))}),[r]);var t=(0,s.v9)(f);return(0,C.jsxs)(p.xu,{children:[n&&(0,C.jsx)(R,{}),(0,C.jsx)(g.g,{spacing:4,align:"stretch",children:t.map((function(e){return(0,C.jsx)(p.xu,{p:4,borderWidth:"1px",borderRadius:"md",boxShadow:"base",children:(0,C.jsx)(z,{name:e.name,number:e.number,id:e.id})},e.id)}))})]})},q=r(6895),J=function(){var e=(0,s.I0)(),n=(0,s.v9)(h),r=(0,j.ff)("teal.200","teal.700");return(0,C.jsxs)(p.xu,{p:6,borderWidth:"1px",borderRadius:"md",boxShadow:"base",bg:r,children:[(0,C.jsx)(P.x,{mb:2,fontSize:"md",fontWeight:"bold",children:"Find contacts by name"}),(0,C.jsx)(v.NI,{children:(0,C.jsx)(w.I,{type:"text",name:"filter",placeholder:"Enter name to find",value:n,onChange:function(n){e((0,q.T)(n.target.value))}})})]})};function A(){var e=(0,s.I0)();return(0,i.useEffect)((function(){e((0,c.yF)())}),[e]),(0,C.jsxs)(p.xu,{maxW:"xl",mx:"auto",mt:8,w:"90%",children:[(0,C.jsx)(p.xu,{mb:4,children:(0,C.jsx)(k,{})}),(0,C.jsx)(p.xu,{mb:4,children:(0,C.jsx)(J,{})}),(0,C.jsx)(p.xu,{children:(0,C.jsx)(W,{})})]})}}}]);
//# sourceMappingURL=331.0c6b477b.chunk.js.map