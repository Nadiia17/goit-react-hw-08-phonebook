"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[331],{2331:function(e,n,r){r.r(n),r.d(n,{default:function(){return A}});var t,i=r(2791),s=r(9434),a=r(1413),c=r(208),o=r(5705),u=r(8007),l=r(6916),d=function(e){return e.contacts.items},m=function(e){return e.contacts.isLoading},x=function(e){return e.contacts.error},h=function(e){return e.filter.filter},f=(0,l.P1)([d,h],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),j=r(5218),b=r(1917),p=r(5350),v=r(7438),g=r(7236),X=r(3004),w=r(9055),I=r(184),y=u.Ry().shape({name:u.Z_().min(3).required("Name is required"),number:u.Z_().matches(/^\d{3}-\d{3}-\d{4}$/,"Phone number is not valid. Must be XXX-XXX-XXXX").required("Phone number is required")}),C=function(){var e=(0,s.I0)(),n=(0,s.v9)(d);return(0,I.jsx)(o.J9,{initialValues:{name:"",number:""},validationSchema:y,onSubmit:function(r,t){n.some((function(e){return e.name.toLowerCase()===r.name.toLowerCase()}))?j.ZP.error("".concat(r.name," is already in the phonebook")):(e((0,c.uK)({name:r.name,number:r.number})),t.resetForm(),j.ZP.success("".concat(r.name," added to the phonebook")))},children:function(e){return(0,I.jsx)(o.l0,{children:(0,I.jsxs)(b.g,{spacing:4,align:"start",maxW:"100%",mx:"auto",children:[(0,I.jsx)(o.gN,{name:"name",children:function(e){var n=e.field,r=e.form;return(0,I.jsxs)(p.NI,{isInvalid:r.errors.name&&r.touched.name,children:[(0,I.jsx)(v.l,{htmlFor:"name",children:"Name"}),(0,I.jsx)(g.I,(0,a.Z)((0,a.Z)({},n),{},{id:"name",placeholder:"Enter name"})),(0,I.jsx)(X.J1,{children:r.errors.name})]})}}),(0,I.jsx)(o.gN,{name:"number",children:function(e){var n=e.field,r=e.form;return(0,I.jsxs)(p.NI,{isInvalid:r.errors.number&&r.touched.number,children:[(0,I.jsx)(v.l,{htmlFor:"number",children:"Number"}),(0,I.jsx)(g.I,(0,a.Z)((0,a.Z)({},n),{},{id:"number",placeholder:"Enter number XXX-XXX-XXXX"})),(0,I.jsx)(X.J1,{children:r.errors.number})]})}}),(0,I.jsx)(w.z,{mt:4,mx:"auto",type:"submit",children:"Add contact"})]})})}})},Z=r(6582),k=r(824),N=r(2715),P=r(3853),E=r(8820),F=function(e){var n=e.name,r=e.number,t=e.id,i=(0,s.I0)();return(0,I.jsxs)(Z.k,{justifyContent:"space-between",alignItems:"center",children:[(0,I.jsxs)(k.xu,{children:[(0,I.jsxs)(Z.k,{alignItems:"center",children:[(0,I.jsx)(P.fzv,{size:"1.2em"}),(0,I.jsx)(N.x,{ml:"2",children:n})]}),(0,I.jsxs)(Z.k,{alignItems:"center",children:[(0,I.jsx)(E.Nhm,{size:"1.2em"}),(0,I.jsx)(N.x,{ml:"2",children:r})]})]}),(0,I.jsxs)(w.z,{borderRadius:"5px",px:"3",py:"2",onClick:function(){i((0,c.GK)(t)).unwrap().then((function(){j.ZP.success("Contact deleted successfully")})).catch((function(){j.ZP.error("Failed to delete contact")}))},children:[(0,I.jsx)(P.pBC,{size:"1.2em"}),(0,I.jsx)(N.x,{ml:"2",children:"Delete"})]})]})},z=r(3656),L=r(168),_=r(6487).ZP.div(t||(t=(0,L.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),S=function(){return(0,I.jsx)(_,{children:(0,I.jsx)(z.Yt,{visible:!0,height:"80",width:"80",ariaLabel:"Loading",wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#B2F5EA",color:"#319795"})})},W=function(){var e=(0,s.I0)();(0,i.useEffect)((function(){e((0,c.yF)())}),[e]);var n=(0,s.v9)(m),r=(0,s.v9)(x);(0,i.useEffect)((function(){r&&j.ZP.error("Error loading contacts: ".concat(r))}),[r]);var t=(0,s.v9)(f);return(0,I.jsxs)(k.xu,{children:[n&&(0,I.jsx)(S,{}),(0,I.jsx)(b.g,{spacing:4,align:"stretch",children:t.map((function(e){return(0,I.jsx)(k.xu,{p:4,borderWidth:"1px",borderRadius:"md",boxShadow:"base",children:(0,I.jsx)(F,{name:e.name,number:e.number,id:e.id})},e.id)}))})]})},q=r(6895),R=r(1309),J=function(){var e=(0,s.I0)(),n=(0,s.v9)(h),r=(0,R.ff)("teal.200","teal.600");return(0,I.jsxs)(k.xu,{p:4,borderWidth:"1px",borderRadius:"md",boxShadow:"base",bg:r,children:[(0,I.jsx)(N.x,{mb:2,fontSize:"md",fontWeight:"bold",children:"Find contacts by name"}),(0,I.jsx)(p.NI,{children:(0,I.jsx)(g.I,{type:"text",name:"filter",placeholder:"Enter name to find",value:n,onChange:function(n){e((0,q.T)(n.target.value))}})})]})};function A(){var e=(0,s.I0)();return(0,i.useEffect)((function(){e((0,c.yF)())}),[e]),(0,I.jsxs)(k.xu,{maxW:"xl",mx:"auto",mt:8,w:"90%",children:[(0,I.jsx)(k.xu,{mb:4,children:(0,I.jsx)(C,{})}),(0,I.jsx)(k.xu,{mb:4,children:(0,I.jsx)(J,{})}),(0,I.jsx)(k.xu,{children:(0,I.jsx)(W,{})})]})}}}]);
//# sourceMappingURL=331.84441c19.chunk.js.map